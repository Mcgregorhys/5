{% extends 'base.html.twig' %}

{% block title %}Lista produktów{% endblock %}

{% block body %}
<div class="bg-blue-500 text-white p-4 text-center">Moja testowa aplikacja</div>



<div class="px-30 ... bg-blue-00">
 
<form method="post" action="{{ path('product_discounts') }}" enctype="multipart/form-data">
<style>
 
</style>
<div class="table-container">
    <table class="responsive-table">
    <thead>
        <tr>
            <th class="w-auto">ID</th>
            <th class="w-auto">Lp</th>
            <th class="w-auto">Zdjecie</th>
            <th class="min-w-[200px]">Nazwa produktu</th>
            <th class="w-auto">Cena netto</th>
            <th class="w-auto">Minus 20%</th>
            <th class="w-auto">Minus 30%</th>
            <th class="w-auto">Eur -20%</th>
            <th class="w-auto">Eur -30%</th>
            
        </tr>
    </thead>
    <tbody>
        {% for product in products %}
        <tr>
            <td class="border-4 border-double border-blue-400 p-2">{{ product.id}}</td>
            <td class="border-4 border-double border-blue-400 p-2">{{ loop.index }}</td>
            <td class="p-2">
               
                    <img src="{{ asset('uploads/products/' ~ product.imageFilename) }}" alt="zdjęcie" class="max-w-[100px]">
                
            </td>
            
            
           <td class="border-4 border-double border-blue-400 p-2 align-top max-w-[200px]">
  <div class="w-full break-words whitespace-pre-wrap bg-transparent border-none">
    {{ product.nazwaProduktu }}
    <input type="hidden" name="products[{{ product.id }}][nazwaProduktu]" 
           value="{{ product.nazwaProduktu }}">
  </div>
</td>  
            <td class="border-4 border-double border-blue-400 p-2">
                <input type="number" step="0,01" name="products[{{ product.id }}][cenaNetto]" value="{{ product.cenaNetto }}" class="auto-input">
            </td>
            <td class="border-4 border-double border-blue-400 p-2">
                <input   name="products[{{ product.id }}][nettoMinus20]" value="{{ product.nettoMinus20 }}" readonly class="auto-input">
            </td> 
            <td class="border-4 border-double border-blue-400 p-2">
                <input   name="products[{{ product.id }}][nettoMinus30]" value="{{ product.nettoMinus30 }}" readonly class="auto-input">
            </td> 
            <td class="border-4 border-double border-blue-400 p-2">
                <input   name="products[{{ product.id }}][EurMinus20]" value="{{ product.EurMinus20}}" readonly class="auto-input">
            </td> 
            <td class="border-4 border-double border-blue-400 p-2">
                <input   name="products[{{ product.id }}][EurMinus30]" value="{{ product.EurMinus30}}" readonly class="auto-input">
           
        </tr>  
               
            {% endfor %}
         
        </tbody>
           
    </table>   
    </div>                                       

    <button type="submit" name="action" value="update" class="button">Zapisz zmiany</button>
    <button type="submit" name="action" value="delete" class="button">Usuń zaznaczone</button>
    <button class="button"><a href={{ path('product_new')}}>Dodaj</a></button>
    <button class="button"><a href={{ path('app_test')}}>Testy php</a></button>
    <button class="button"><a href={{ path('product_list')}}>Lista produktów</a></button>
</form>
</div>
{% endblock %}
